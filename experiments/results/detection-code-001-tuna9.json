{
  "schema_version": "1.0",
  "id": "detection-code-001-tuna9",
  "type": "detection_code",
  "backend": "tuna-9",
  "backend_qubits": [1, 2, 4, 6, 7],
  "submitted": "2026-02-13T09:30:00Z",
  "completed": "2026-02-13T09:35:00Z",
  "parameters": {
    "shots": 1024,
    "qubit_mapping": {
      "data": [1, 2, 6, 7],
      "ancilla": 4,
      "note": "q4 is the only degree-4 qubit (connected to q1,q2,q6,q7). Single-ancilla design: q4 used as bus for encoding and syndrome extraction. 10 CNOTs total per circuit."
    }
  },
  "raw_counts": {
    "no_error": {
      "job_id": 425148,
      "note": "Encode GHZ on data qubits via q4, disentangle q4, extract Z-syndrome via q4. Expect syndrome=0, data in {0000,1111}."
    },
    "x_error_d0": {
      "job_id": 425149,
      "injected_error": "X gate on q1 after encoding",
      "note": "Should flip syndrome bit. Expect syndrome=1."
    },
    "x_error_d2": {
      "job_id": 425150,
      "injected_error": "X gate on q6 after encoding",
      "note": "Should flip syndrome bit. Expect syndrome=1."
    }
  },
  "analysis": {
    "status": "COMPLETED",
    "overall_detection_rate": 0.666,
    "false_positive_rate": 0.309,
    "post_selection_gain": 1.34,
    "variant_results": {
      "no_error": {
        "raw_fidelity": 0.494,
        "post_selected_fidelity": 0.663,
        "false_positive_rate": 0.309,
        "syndrome_0_fraction": 0.691,
        "note": "Raw fidelity = fraction of shots in {0000,1111} codespace. Post-selected = same but only syndrome=0 shots."
      },
      "x_error_d0": {
        "detection_rate": 0.677,
        "note": "X error on q1. Detection rate = fraction of shots with syndrome=1."
      },
      "x_error_d2": {
        "detection_rate": 0.655,
        "note": "X error on q6. Detection rate = fraction of shots with syndrome=1."
      }
    },
    "circuit_depth": {
      "cnots": 10,
      "breakdown": "5 encoding (H+4 CNOTs via q4 bus) + 1 disentangle + 4 syndrome extraction",
      "ibm_comparison": "IBM Torino uses 6 CNOTs with direct connectivity; Tuna-9 needs 10 due to bus routing through q4"
    },
    "connectivity_analysis": {
      "topology": "12-edge diamond lattice (full topology discovered Feb 2026)",
      "max_degree": 4,
      "degree_4_qubits": ["q4"],
      "required_degree_for_ancilla": 4,
      "previous_attempt": {
        "date": "2026-02-10",
        "topology_edges": 10,
        "max_degree": 3,
        "status": "FAILED",
        "reason": "Couplers q4-q7 and q5-q7 were offline during original characterization. With only 10 edges, max degree was 3, insufficient for [[4,2,2]] ancilla."
      }
    },
    "emulator_comparison": {
      "emulator_detection_rate": 1.0,
      "hardware_detection_rate": 0.666,
      "gap_reason": "10 CNOTs on noisy hardware. Each CZ gate ~93% fidelity, so 10 gates give ~0.93^10 â‰ˆ 48% circuit fidelity floor."
    },
    "ibm_comparison": {
      "ibm_detection_rate": 0.927,
      "ibm_false_positive_rate": 0.14,
      "ibm_cnots": 6,
      "tuna9_detection_rate": 0.666,
      "tuna9_false_positive_rate": 0.309,
      "tuna9_cnots": 10,
      "gap_reason": "IBM's heavy-hex topology provides direct degree-4+ connectivity, enabling 6-CNOT layout. Tuna-9 must route through q4 as bus, adding 4 extra CNOTs."
    },
    "interpretation": "[[4,2,2]] error detection now works on Tuna-9 after discovering the full 12-edge topology (q4 has degree 4). Detection rate 66.6% with 30.9% false positives. Lower than IBM's 92.7%/14.0% due to deeper circuit (10 vs 6 CNOTs), but functionally operational. Post-selection improves raw fidelity from 49.4% to 66.3% (1.34x gain). The topology constraint is no longer binary (works/doesn't) but manifests as a circuit depth tax."
  },
  "circuit_cqasm": "version 3.0\nqubit[9] q\nbit[5] b\n\n// Encoding: GHZ on data qubits {q1,q2,q6,q7} via q4 as bus\nH q[4]\nCNOT q[4], q[1]\nCNOT q[4], q[2]\nCNOT q[4], q[6]\nCNOT q[4], q[7]\n\n// Disentangle ancilla\nCNOT q[1], q[4]\n\n// Z-syndrome extraction\nCNOT q[1], q[4]\nCNOT q[2], q[4]\nCNOT q[6], q[4]\nCNOT q[7], q[4]\n\n// Measure\nb[0] = measure q[1]\nb[1] = measure q[2]\nb[2] = measure q[6]\nb[3] = measure q[7]\nb[4] = measure q[4]",
  "errors": [],
  "environment": "experiments/environment.json",
  "raw_counts_sha256": null
}
